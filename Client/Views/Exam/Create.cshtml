
@{
    ViewBag.Title = "Create";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="btn-group col-5 mb-5">
    <button class="btn  btn-primary btn-lg dropdown-toggle" type="button" data-toggle="dropdown" aria-expanded="false">
        Ders Seç
    </button>
    <div class="dropdown-menu col-12">

        <a class="dropdown-item" href="#">Action</a>
        <a class="dropdown-item" href="#">Action</a>
        <a class="dropdown-item" href="#">Action</a>

        <a class="dropdown-item" href="#">Action</a>
        <a class="dropdown-item" href="#">Action</a>

    </div>
</div>
<div class="text-group">
    <div class="form-group">
        <label class="ExamName" for="ExamName">Sınav Adı</label>
        <textarea class="form-control" id="ExamName" rows="1"></textarea>
    </div>
</div>
<div class="questions">
    <div class="question">
        <div class="text-group">
            <div class="form-group">
                <label class="questionName" for="exampleFormControlTextarea1">Soru 1</label>
                <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
            </div>
        </div>
        <div class="text-group">
            <div class="form-group">
                <label class="answerName" for="exampleFormControlTextarea1">Cevap 1</label>
                <textarea class="form-control" id="exampleFormControlTextarea2" rows="3"></textarea>
            </div>
        </div>
    </div>
</div>


<a href="#" onclick="addQuestions()" class="btn btn-warning btn-icon-split">
    <span class="icon text-white-50">
        <i class="fas fa-plus"></i>
    </span>
    <span  >Soru Ekle</span>
</a>
<a href="#" onclick="Create()" class="btn btn-success btn-icon-split" style="margin-right:auto">
    <span class="icon text-white-50">
        <i class="fas fa-plus"></i>
    </span>
    <span class="text">Kaydet</span>
</a>
<br />
<ul class="list-group">
    <h2>Öğrenci Ekle</h2>
    <li class="list-group-item d-flex justify-content-between align-items-center">
        <div class="form-check">
            <input class="form-check-input" type="checkbox" value="" id="defaultCheck1">
            <label class="form-check-label" for="defaultCheck1">
                Default checkbox
            </label>
        </div>
    </li>
    <li class="list-group-item d-flex justify-content-between align-items-center">
        <div class="form-check">
            <input class="form-check-input" type="checkbox" value="" id="defaultCheck1">
            <label class="form-check-label" for="defaultCheck1">
                Default checkbox
            </label>
        </div>
    </li>
    <li class="list-group-item d-flex justify-content-between align-items-center">
        <div class="form-check">
            <input class="form-check-input" type="checkbox" value="" id="defaultCheck1">
            <label class="form-check-label" for="defaultCheck1">
                Default checkbox
            </label>
        </div>

    </li>
</ul>


<script>
    const addQuestions = () => {
        var question = $(".question:first").clone();

        $(".questionName", question).text("Soru " + ($(".question").length + 1));

        $(".answerName", question).text("Cevap " + ($(".question").length + 1));

        $(".questions").append(question);
    };

    const Create = () => {
        var data = { 'ExamName': $("#ExamName").val(),'LessonId':"1" };
            $.ajax({
                url: "https://localhost:44314/api/Exam",
                type: "POST",
                headers: {
                    'Content-Type': 'application/json',
                    'Access-Control-Request-Headers': 'x- requested -with'
                },
                data: JSON.stringify(data),
                success: function (response) {

                },
                error: function (response) {
                    
                }
            });
    }
</script>
